// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "sqlite"
    url      = "file:../tmp/dev.db"
}

model Media {
    type      String
    id        Int      @id @default(autoincrement())
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
    imdbID    String   @unique
    Snatch    Snatch[]
}

model Snatch {
    id        Int      @id @default(autoincrement())
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
    media     Media    @relation(fields: [mediaID], references: [id])
    mediaID   Int
    season    Int?
    episode   Int?
    URL       String   @unique
    Tag       Tag[]
}

model Tag {
    id        Int      @id @default(autoincrement())
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
    name      String   @unique
    Snatch    Snatch[]
}
